<!DOCTYPE html>
<html>
<head>
  <title>VÃ¦ret hvor som helst</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      margin-left: 30%;
      background: linear-gradient( to right, #ffffff, #828181);
    }
    input, button {
      padding: 10px;
      font-size: 16px;
      border-radius: 5px;
    }
    #resultat {
      margin-top: 20px;
      font-size: 18px;
    }

    button {
      cursor: pointer;
      background: linear-gradient( to right, #4c4faf, #ce197d);
      color: white;
      border-radius: 5px;
    }

  </style>
</head>
<body>
  <h1>Hent vÃ¦ret!</h1>
  
  <input type="text" id="by" placeholder="Skriv inn by, f.eks. Elverum">
  <button onclick="hentVÃ¦r()">Hent vÃ¦ret</button>
  
  <p id="resultat">Resultat vises her...</p>

  <script>
async function hentVÃ¦r() {
  const by = document.getElementById("by").value.trim();
  if (!by) {
    document.getElementById("resultat").innerHTML = "Skriv inn en by!";
    return;
  }

  document.getElementById("resultat").innerHTML = "ğŸ”„ <em>Henter vÃ¦ret...</em>";

  try {
    const svar = await fetch(`https://wttr.in/${by}?format=j1`);
    
    if (!svar.ok) {
      throw new Error("Fant ikke byen");
    }

    const data = await svar.json();
    const temp = data.current_condition[0].temp_C;
    const beskrivelse = data.current_condition[0].weatherDesc[0].value;

    const ikon = velgVÃ¦rikon(beskrivelse);

    document.getElementById("resultat").innerHTML = 
      `<strong>${ikon} ${by}</strong><br>
       ${temp}Â°C â€“ ${beskrivelse}`;

  } catch (error) {
    document.getElementById("resultat").innerHTML = 
      `Feil: ${error.message}. PrÃ¸v en annen by!`;
  }
}

function velgVÃ¦rikon(beskrivelse) {
  const lav = beskrivelse.toLowerCase();
  
  if (lav.includes("sunny") || lav.includes("clear")) return "â˜€ï¸";
  if (lav.includes("cloudy") || lav.includes("partly")) return "â˜ï¸";
  if (lav.includes("rain") || lav.includes("shower")) return "ğŸŒ§ï¸";
  if (lav.includes("snow")) return "â„ï¸";
  if (lav.includes("thunder") || lav.includes("storm")) return "â›ˆï¸";
  if (lav.includes("fog") || lav.includes("mist")) return "ğŸŒ«ï¸";
  
  return "ğŸŒ¤ï¸";
}
</script>
</body>
</html>